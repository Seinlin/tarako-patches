From ba288670568ad07a51b5cdc956ba4c62c1d1edd7 Mon Sep 17 00:00:00 2001
From: vincentliu <vliu@mozilla.com>
Date: Thu, 6 Feb 2014 11:54:47 +0800
Subject: [PATCH] Bug 945630 - Expose a device-depent preference file for
 loading device specific preference settings. r=mwu

---
 Android.mk |    3 +++
 1 file changed, 3 insertions(+)

diff --git a/Android.mk b/Android.mk
index e64930d..0339e37 100644
--- a/Android.mk
+++ b/Android.mk
@@ -216,6 +216,9 @@ $(LOCAL_INSTALLED_MODULE): $(LOCAL_BUILT_MODULE) gaia/profile.tar.gz $(APRIORI)
 
 	mkdir -p $(TARGET_OUT)/b2g/defaults/pref
 	cp -r $(GAIA_PATH)/profile/defaults/* $(TARGET_OUT)/b2g/defaults/
+ifneq (,$(EXPORT_DEVICE_PREFS))
+	cp -n $(EXPORT_DEVICE_PREFS)/*.js $(TARGET_OUT)/b2g/defaults/pref/
+endif
 
 	cd $(TARGET_OUT) && tar xvfz $(abspath $<)
 
-- 
1.7.9.5

